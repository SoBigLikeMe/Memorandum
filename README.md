基本实现所有功能